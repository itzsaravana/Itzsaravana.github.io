<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Saravana's Blog Post</title>
<style>
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#111;background:#f6f6f6;-webkit-font-smoothing:antialiased}
  button{font-family:inherit}
  a{color:inherit}

  /* topbar height variable (updated at runtime) */
  :root { --topbar-h:64px; }

  /* Topbar */
  .topbar {
    position: sticky;
    top: 0;
    z-index: 1400;
    display:block;
    background:#fff; border-bottom:1px solid #eee;
    box-shadow:0 6px 18px rgba(10,10,10,0.03);
    padding:6px 12px;
  }

  /* Topbar inner layout: left (about), center (search), right (actions) */
  .topbar-inner {
    display:flex;
    gap:12px;
    align-items:center;
    width:100%;
    max-width:1200px;
    margin:0 auto;
  }

  .left-zone, .center-zone, .right-zone { display:flex; align-items:center; gap:12px; }
  .left-zone { flex:0 0 auto; }
  .center-zone { flex:1 1 420px; justify-content:center; min-width:140px; }
  .right-zone { flex:0 0 auto; justify-content:flex-end; margin-left:auto; }

  .about-mini{display:flex;gap:12px;align-items:center;cursor:pointer}
  .avatar{width:44px;height:44px;border-radius:999px;overflow:hidden;background:#ddd;box-shadow:0 4px 12px rgba(0,0,0,0.06);flex:0 0 44px}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}
  .about-text{display:flex;flex-direction:column;line-height:1;min-width:0}
  .about-text .name{font-weight:700;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .about-text .role{color:#666;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

  /* search area: center zone contains the input and auto-centers it */
  .search-wrap{display:flex;align-items:center;justify-content:center;width:100%;padding:0 8px}
  .search-input{width:100%;max-width:640px;padding:9px 12px;border-radius:10px;border:1px solid #e6e6e6;transition:box-shadow .12s; font-size:15px}
  .search-input:focus{outline:none;box-shadow:0 6px 18px rgba(11,116,222,0.06)}

  @media(max-width:1100px){
    .topbar-inner{padding:0 6px}
    .center-zone{flex:1 1 360px}
    .search-input{max-width:520px}
  }

  @media(max-width:880px){
    /* keep the name/title visible on small screens (slightly smaller font) */
    .about-text{display:flex;flex-direction:column;min-width:0}
    .about-text .name{font-size:13px}
    .about-text .role{font-size:11px}
    .center-zone{flex:1 1 1px} /* allow search to shrink; center it */
    .search-input{font-size:14px}
  }

  /* About panel - positioned under about-mini, but constrained to viewport */
  .about-panel{position:absolute;top:calc(var(--topbar-h) + 8px);left:16px;z-index:1450;min-width:260px;max-width:360px;background:#fff;border-radius:10px;box-shadow:0 20px 60px rgba(10,10,10,0.12);padding:14px;display:none}
  .about-panel.open{display:block}
  .about-panel h3{margin:0 0 8px;font-size:16px}
  .about-panel p{margin:6px 0;color:#333;line-height:1.4;font-size:14px}
  @media(max-width:880px){.about-panel{left:8px;right:8px;min-width:auto}}

  /* Container */
  .container{display:grid;grid-template-columns:280px 1fr;gap:24px;max-width:1200px;margin:20px auto;padding:0 16px 60px;align-items:start}
  @media(max-width:1100px){.container{max-width:980px}}
  @media(max-width:880px){.container{grid-template-columns:1fr;padding:0 12px 60px}}

  /* Sidebar */
  .sidebar{position:sticky;top:calc(var(--topbar-h) + 20px);background:#fff;border-radius:10px;padding:18px;box-shadow:0 6px 18px rgba(20,20,20,0.06);height:calc(100vh - (var(--topbar-h) + 40px));overflow:auto}
  .site-title{margin:0 0 12px;font-weight:700;font-size:18px}
  .toc{list-style:none;padding:0;margin:0}
  .toc li+li{margin-top:8px}
  .toc button{display:block;width:100%;text-align:left;background:transparent;border:none;padding:8px 10px;border-radius:8px;cursor:pointer;font-size:15px}
  .toc button:hover,.toc button:focus{background:#f0f0f0;outline:none}

  /* Main & controls */
  main{min-height:60vh}
  .controls{display:flex;justify-content:space-between;gap:12px;align-items:center;margin-bottom:18px;flex-wrap:wrap}
  .controls h2{margin:0;font-size:20px}
  .meta-note{color:#6b6b6b;font-size:13px}

  /* Articles grid: responsive and proportional */
  .articles{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px}
  .card{background:#fff;border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(20,20,20,0.04);display:flex;gap:12px;min-height:120px;align-items:flex-start;transition:transform .12s}
  .card:hover{transform:translateY(-4px)}
  /* thumb proportion: on wide screens thumbnail takes ~36% */
  .thumb{width:36%;height:120px;flex:0 0 36%;border-radius:8px;overflow:hidden;position:relative;background:#ddd;display:block}
  .thumb .placeholder{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(8px) saturate(120%);transform:scale(1.03);transition:opacity 360ms;z-index:0}
  .thumb img{position:relative;z-index:1;width:100%;height:100%;object-fit:cover;display:block;opacity:0;transition:opacity 360ms}
  .thumb img.loaded{opacity:1}
  .thumb .placeholder.hidden{opacity:0}
  .card-body{flex:1;display:flex;flex-direction:column;gap:8px;min-width:0}
  .card h3{margin:0;font-size:17px;cursor:pointer;word-break:break-word}
  .meta{color:#6b6b6b;font-size:13px}
  .excerpt{margin:0;color:#333;line-height:1.45;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}
  .tag{font-size:12px;color:#6b6b6b;background:#fafafa;padding:6px 8px;border-radius:6px;display:inline-block}
  .card .actions{margin-top:auto;display:flex;gap:12px;justify-content:flex-end}
  .btn{padding:8px 14px;border-radius:999px;border:none;cursor:pointer;font-weight:600;background:#111;color:#fff}
  .btn.ghost{background:transparent;border:1px solid #e6e6e6;color:#111;padding:6px 12px}

  /* Mobile: stack thumb above content and adjust sizes */
  @media(max-width:880px){
    .sidebar{display:none}
    .card{flex-direction:column}
    .thumb{width:100%;height:180px;flex:0 0 auto}
    .reader-hero{height:220px}
    .reader-article{max-height:calc(100vh - (var(--topbar-h) + 40px))}
  }

  /* reader overlay */
  .reader{position:fixed;inset:0;display:none;z-index:1200;background:rgba(0,0,0,0.35);align-items:flex-start;justify-content:center;padding-top:calc(var(--topbar-h) + 16px)}
  .reader.open{display:flex}
  .reader-close{position:fixed;top:calc(var(--topbar-h) + 12px);right:18px;z-index:1600;background:#fff;border-radius:999px;border:1px solid rgba(0,0,0,0.08);padding:8px 10px;cursor:pointer;font-weight:600;box-shadow:0 8px 20px rgba(0,0,0,0.12)}
  .reader-article{width:min(900px,96%);max-height:calc(100vh - (var(--topbar-h) + 56px));overflow:auto;background:#fff;border-radius:10px;box-shadow:0 20px 60px rgba(10,10,10,0.3);position:relative;z-index:1550}

  .reader-hero{width:100%;height:320px;overflow:hidden;position:relative;background:#eee;border-top-left-radius:10px;border-top-right-radius:10px}
  .reader-hero .placeholder{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(10px) saturate(120%);transform:scale(1.05);transition:opacity 420ms;z-index:0}
  .reader-hero img{position:relative;z-index:1;width:100%;height:100%;object-fit:cover;display:block;opacity:0;transition:opacity 420ms}
  .reader-hero img.loaded{opacity:1}
  .reader-hero .placeholder.hidden{opacity:0}
  .reader-content{padding:28px 36px}
  .reader-article h1{margin-top:0;font-size:34px;line-height:1.1}
  .reader-meta{color:#6b6b6b;margin-bottom:12px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .reader-meta .meta-author{font-weight:600;color:#111}
  .reader-article p{line-height:1.7;font-size:18px;color:#222;margin-top:1em}
  .inpost-img{width:100%;display:block;margin:18px 0;border-radius:8px;position:relative;overflow:hidden;background:#eee}
  .inpost-img .placeholder{position:absolute;inset:0;background-size:cover;background-position:center;filter:blur(8px) saturate(120%);transform:scale(1.03);transition:opacity 360ms;z-index:0}
  .inpost-img img{position:relative;z-index:1;width:100%;height:auto;display:block;opacity:0;transition:opacity 360ms}
  .inpost-img img.loaded{opacity:1}
  .inpost-img .placeholder.hidden{opacity:0}

  /* back to top button */
  .reader-top{position:fixed;right:20px;bottom:28px;z-index:1700;background:#111;color:#fff;border-radius:999px;padding:10px 12px;cursor:pointer;font-weight:600;display:none;box-shadow:0 10px 30px rgba(0,0,0,0.18)}
  .reader-top.show{display:block}

  /* toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:32px;z-index:1800;background:rgba(0,0,0,0.85);color:#fff;padding:8px 14px;border-radius:8px;font-size:14px;opacity:0;transition:opacity .2s}
  .toast.show{opacity:1}
</style>
</head>
<body>

  <!-- Topbar -->
  <header class="topbar" role="banner" id="topbar">
    <div class="topbar-inner">
      <div class="left-zone">
        <div class="about-mini" id="aboutToggle" tabindex="0" aria-expanded="false" title="Click for About">
          <span class="avatar" aria-hidden="true">
            <img id="avatarImg" src="https://avatars.githubusercontent.com/u/26116706?v=4?q=80&w=800&auto=format&fit=crop&crop=faces" alt="Profile avatar">
          </span>
          <div class="about-text">
            <span class="name">Saravana Kumar</span>
            <span class="role">Software engineer Â· ML practitioner</span>
          </div>
        </div>

        <div class="about-panel" id="aboutPanel" aria-hidden="true">
          <h3>About Me</h3>
          <p><strong>Name:</strong> Saravana Kumar</p>
          <p><strong>Bio:</strong> I'm a software engineer and ML practitioner focusing on production-ready RAG systems, churn models, LLM, and developer tooling.</p>
          <h4>Career</h4>
          <ol style="margin:6px 0 0;padding-left:18px">
            <li>Frontend & Backend engineering</li>
            <li>AI/ML engineering & RAG</li>
            <li>Platform engineering (Docker, AWS)</li>
            <li>Current â Agentic AI tooling & LLM integrations</li>
          </ol>
        </div>
      </div>

      <div class="center-zone" aria-hidden="false">
        <div class="search-wrap" role="search" aria-label="Site search">
          <input id="topSearch" class="search-input" type="search" placeholder="Search posts, tags, content (press / to focus)" aria-label="Search posts">
        </div>
      </div>

      <div class="right-zone" aria-hidden="false">
        <!-- placeholder for right side actions if needed; kept for layout stability -->
        <div style="display:flex;gap:8px;align-items:center;">
          <!-- e.g. future icons or action buttons -->
        </div>
      </div>
    </div>
  </header>

  <!-- Main container -->
  <div class="container" role="main">
    <aside class="sidebar" id="sidebar" aria-label="Table of contents">
      <h2 class="site-title">Blog</h2>
      <p style="margin:0 0 12px;color:#5b5b5b;font-size:13px">Click a title or Read to open the article.</p>
      <hr style="border:none;height:1px;background:#f0f0f0;margin:12px 0;">
      <strong style="display:block;margin-bottom:8px">Table of contents</strong>
      <ul class="toc" id="toc"></ul>
    </aside>

    <main>
      <div class="controls">
        <div>
          <h2>Latest stories</h2>
          <div class="meta-note">Curated picks</div>
        </div>
      </div>

      <section class="articles" id="articles" aria-live="polite"></section>
    </main>
  </div>

  <!-- Reader overlay -->
  <div class="reader" id="reader" aria-hidden="true" role="dialog" aria-modal="true">
    <!-- close button pinned below topbar -->
    <button class="reader-close" id="readerClose" aria-label="Close reader (Esc)">â</button>
    <article class="reader-article" id="readerArticle" tabindex="0" aria-live="polite"></article>
  </div>

  <button class="reader-top" id="readerTop" title="Back to top">Top</button>
  <div class="toast" id="toast" role="status" aria-live="polite">Copied link</div>

<script>
/* Posts (same samples) */
const posts = [
  {
    id:'post-1', title:'Designing for Focus: How to Build Reader-Friendly UIs', author:'Saravana Kumar', date:'2025-09-09',
    tags:['design','ux','readability'],
    image:'https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=1600&auto=format&fit=crop&crop=entropy',
    placeholder:'https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=10&w=40&auto=format&fit=crop&crop=entropy',
    excerpt:'Readers crave focus. Typography, layout and micro-interactions matter.',
    content:`<p>Readers crave focus. To design a reader-friendly UI, start with typography: use a comfortable measure (line length), slightly larger font sizes for body copy, and increased line-height.</p>
      <div class="inpost-img" data-placeholder="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=10&w=80&auto=format&fit=crop&crop=entropy">
        <img data-src="https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?q=80&w=1200&auto=format&fit=crop&crop=entropy" alt="typography example">
      </div>
      <p>Next, structure content: clear headings, short paragraphs, and callouts help scanability.</p>`
  },
  {
    id:'post-2', title:'Building a Local Dev RAG Stack with Chroma and Ollama', author:'Saravana Kumar', date:'2025-08-30',
    tags:['llm','rag','devops'],
    image:'https://images.unsplash.com/photo-1548095115-45697e3c1f6a?q=80&w=1600&auto=format&fit=crop&crop=entropy',
    placeholder:'https://images.unsplash.com/photo-1548095115-45697e3c1f6a?q=10&w=40&auto=format&fit=crop&crop=entropy',
    excerpt:'A practical local RAG stack guide.',
    content:`<p>Key parts: document preprocessing, chunking, vector storage, and your LLM.</p>
      <div class="inpost-img" data-placeholder="https://images.unsplash.com/photo-1548095115-45697e3c1f6a?q=10&w=80&auto=format&fit=crop&crop=entropy">
        <img data-src="https://images.unsplash.com/photo-1548095115-45697e3c1f6a?q=80&w=1200&auto=format&fit=crop&crop=entropy" alt="local rag diagram">
      </div>
      <p>Keep a clean pipeline and cache embeddings to avoid repeated compute.</p>`
  },
  {
    id:'post-3', title:'Thumbnail Selection Techniques to Improve Click-Through', author:'Priya Menon', date:'2025-07-21',
    tags:['ml','video','engagement'],
    image:'https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?q=80&w=1600&auto=format&fit=crop&crop=entropy',
    placeholder:'https://images.unsplash.com/photo-1524678606370-a47ad25cb82a?q=10&w=40&auto=format&fit=crop&crop=entropy',
    excerpt:'Choosing thumbnails is both art and science.',
    content:`<p>Thumbnails are often the first impression. Common heuristics: faces, high-contrast frames, and action frames perform well.</p>`
  },
  {
    id:'post-4', title:'Practical Monitoring for Production ML Systems', author:'Anita Rao', date:'2025-06-10',
    tags:['ml','monitoring','mle'],
    image:'https://images.unsplash.com/photo-1557800636-894a64c1696f?q=80&w=1600&auto=format&fit=crop&crop=entropy',
    placeholder:'https://images.unsplash.com/photo-1557800636-894a64c1696f?q=10&w=40&auto=format&fit=crop&crop=entropy',
    excerpt:'What to monitor in ML systems and how to set up reliable alerts.',
    content:`<p>Monitor both model and data: input distribution drifts, prediction distribution shifts, and downstream KPI changes.</p>`
  }
];

/* DOM refs */
const tocEl = document.getElementById('toc');
const articlesEl = document.getElementById('articles');
const reader = document.getElementById('reader');
const readerArticle = document.getElementById('readerArticle');
const readerClose = document.getElementById('readerClose');
const topSearch = document.getElementById('topSearch');
const aboutToggle = document.getElementById('aboutToggle');
const aboutPanel = document.getElementById('aboutPanel');
const readerTop = document.getElementById('readerTop');
const toast = document.getElementById('toast');
const topbar = document.getElementById('topbar');

/* utils */
function escapeHtml(s){ return String(s||'').replace(/[&<>"']/g, ch=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch])); }
function escapeAttr(s){ return String(s||'').replace(/["']/g, ch=> ch === '"' ? '&quot;' : '&#39;'); }
function stripHtml(html){ return String(html||'').replace(/<[^>]*>/g,' ').replace(/\s+/g,' ').trim(); }
function estimateReadTime(text){ const words = stripHtml(text
